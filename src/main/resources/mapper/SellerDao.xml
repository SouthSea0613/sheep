<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com._401unauthorized.sheep.dao.SellerDao">
    <select id="seller_list" resultType="com._401unauthorized.sheep.dto.WishDto">
        SELECT W.WISH_NUMBER,W.USER_ID,W.WISH_TITLE,SA.APPLY_STATUS FROM WISH W
        JOIN
            (
            SELECT S.SELLER_AREA,A.APPLY_STATUS,A.USER_ID FROM SELLER S
            JOIN APPLY_STATUS A
            ON S.USER_ID = A.USER_ID
            WHERE A.APPLY_STATUS=0) AS SA
        WHERE W.WISH_TITLE LIKE CONCAT(SA.SELLER_AREA,'%') GROUP BY W.WISH_NUMBER
    </select>
</mapper>